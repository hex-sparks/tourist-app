<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1" />
Â  <title>Your Itinerary - Chennai Tourist Places</title>
Â  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gray-50 font-sans">

<header class="pt-10 mb-8 shadow-lg bg-white/95 backdrop-blur-sm sticky top-0 z-10 border-b border-teal-100">
Â  <div class="max-w-5xl mx-auto px-4">
Â  Â  
Â  Â  <!-- HEADER STRUCTURE: Back button left, Title block center -->
Â  Â  <div class="flex items-center justify-between relative pb-4">
Â  Â  Â  <!-- Back Button (Far Left) -->
Â  Â  Â  <button onclick="window.location.href='index.html'" class="bg-white text-gray-700 px-4 py-2 rounded-full border border-gray-300 hover:bg-gray-100 font-semibold shadow-md transition-colors flex items-center gap-1 text-sm absolute left-0">
Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
Â  Â  Â  Â  Back to Places List
Â  Â  Â  </button>

Â  Â  Â  <!-- Main Title (Center) -->
Â  Â  Â  <div class="flex flex-col items-center mx-auto">
Â  Â  Â  Â  <h2 class="text-5xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-cyan-500">
Â  Â  Â  Â  Â  Your Travel Itinerary
Â  Â  Â  Â  </h2>
Â  Â  Â  Â  <p class="text-2xl text-gray-600 italic mt-2">
Â  Â  Â  Â  Â  Places selected for your journey.
Â  Â  Â  Â  </p>
Â  Â  Â  </div>
Â  Â  </div>
Â  Â  
Â  </div>
</header>

<main class="max-w-5xl mx-auto px-4 pb-12">
Â  <div id="cartItems" class="space-y-4">
Â  Â  <!-- Cart items will be rendered here -->
Â  </div>
Â  <div id="emptyCartMessage" class="hidden text-center mt-12 p-10 bg-white rounded-2xl shadow-xl border border-gray-200">
Â  Â  <p class="text-3xl text-gray-500 font-light">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 inline-block align-middle mr-2 text-teal-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>
        Your itinerary is currently empty.
    </p>
Â  Â  <p class="text-lg text-gray-500 mt-2">Go back to the list and start adding amazing places!</p>
Â  Â  </div>

Â  <!-- SUMMARY SECTION: Consolidated Spacing -->
Â  <div id="cartSummary" class="mt-10 pt-6 border-t border-gray-300 flex flex-col gap-2 hidden bg-white p-6 rounded-2xl shadow-2xl">
Â  Â  
Â  Â  <!-- Top Row: Total and Clear Itinerary -->
Â  Â  <div class="flex justify-between items-center">
Â  Â  Â  <p class="text-2xl font-extrabold text-gray-900">Total Places: <span id="totalItems" class="text-teal-600">0</span></p>
Â  Â  Â  <button onclick="clearCart()" class="bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 font-bold shadow-lg transition-transform hover:scale-[1.02]">
Â  Â  Â  Â  Clear Itinerary
Â  Â  Â  </button>
Â  Â  </div>
Â  Â  
Â  Â  <!-- Bottom Row: Schedule and Map (Right aligned, Royal Blue) -->
Â  Â  <div class="flex justify-end gap-3">
Â  Â  Â  <button onclick="alert('Viewing suggested schedule...')" class="bg-blue-800 text-white px-6 py-3 rounded-xl hover:bg-blue-700 font-bold shadow-xl transition-transform hover:scale-[1.02] flex items-center gap-2">
Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
Â  Â  Â  Â  View Schedule
Â  Â  Â  </button>
Â  Â  Â  <button onclick="alert('Generating optimized map...')" class="bg-blue-800 text-white px-6 py-3 rounded-xl hover:bg-blue-700 font-bold shadow-xl transition-transform hover:scale-[1.02] flex items-center gap-2">
Â  Â  Â  Â  <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
Â  Â  Â  Â  Generate Map
Â  Â  Â  </button>
Â  Â  </div>
Â  </div>
</main>

<script>
Â  // IMPORTANT: Using custom alert/confirm to avoid iframe issues.
Â  function alert(message) {
Â  Â  console.log("Alert (simulated): " + message);
Â  Â  const existingNotification = document.getElementById('notification-box');
Â  Â  if (existingNotification) existingNotification.remove();

Â  Â  const notification = document.createElement('div');
Â  Â  notification.id = 'notification-box';
Â  Â  notification.className = 'fixed top-4 right-4 bg-teal-600 text-white p-4 rounded-lg shadow-xl z-50 transition-transform transform duration-300';
Â  Â  notification.textContent = message;
Â  Â  document.body.appendChild(notification);
Â  Â  
Â  Â  setTimeout(() => {
Â  Â  Â  notification.classList.add('translate-x-full');
Â  Â  Â  notification.addEventListener('transitionend', () => notification.remove());
Â  Â  }, 2000);
Â  }
Â  
Â  function confirm(message) {
Â  Â  return window.confirm(message); // Fallback for simple demo, though custom UI is preferred
Â  }


Â  function renderCart() {
Â  Â  const cart = JSON.parse(localStorage.getItem('cart') || '[]');
Â  Â  const cartItemsContainer = document.getElementById('cartItems');
Â  Â  const emptyMessage = document.getElementById('emptyCartMessage');
Â  Â  const cartSummary = document.getElementById('cartSummary');
Â  Â  const totalItemsSpan = document.getElementById('totalItems');

Â  Â  cartItemsContainer.innerHTML = ''; // Clear previous content

Â  Â  if (cart.length === 0) {
Â  Â  Â  emptyMessage.classList.remove('hidden');
Â  Â  Â  cartSummary.classList.add('hidden');
Â  Â  Â  return;
Â  Â  }

Â  Â  emptyMessage.classList.add('hidden');
Â  Â  cartSummary.classList.remove('hidden');
Â  Â  totalItemsSpan.textContent = cart.length;

Â  Â  cart.forEach(item => {
Â  Â  Â  const itemElement = document.createElement('div');
Â  Â  Â  
Â  Â  Â  // Visual appeal: bg-white with shadow and border
Â  Â  Â  itemElement.className = 'flex items-center bg-white p-3.5 rounded-xl shadow-lg hover:shadow-xl transition-all border border-gray-200';
Â  Â  Â  
Â  Â  Â  // Determine if it has a banner image or a generic icon
Â  Â  Â  const isImage = item.icon && (item.icon.endsWith('.jpg') || item.icon.endsWith('.png') || item.icon.endsWith('.jpeg'));

Â  Â  Â  // Image/Icon size is w-10 h-10 (40x40px). **No margin-right used here.**
Â  Â  Â  const imageOrIconHTML = isImage ? 
Â  Â  Â  Â  `<img src="${item.icon}" alt="${item.name}" class="w-10 h-10 object-cover rounded-lg border border-gray-200 shadow-sm" />` :
Â  Â  Â  Â  `<span class="text-2xl w-10 h-10 flex items-center justify-center bg-gray-100 text-teal-600 rounded-lg shadow-sm">${item.icon || 'ğŸ“'}</span>`;


Â  Â  Â  itemElement.innerHTML = `
Â  Â  Â  Â  ${imageOrIconHTML}
Â  Â  Â  Â  
Â  Â  Â  Â  <!-- Content area: Name/Origin + Category Pill aligned horizontally and centered vertically -->
Â  Â  Â  Â  <!-- Removed ml-1 from this div to bring content closer to the icon/image -->
Â  Â  Â  Â  <div class="flex-grow flex items-center justify-between pr-4">
Â  Â  Â  Â  Â  <!-- Name and Origin in uniform bold text size -->
Â  Â  Â  Â  Â  <h3 class="text-base font-bold text-gray-900 whitespace-nowrap overflow-hidden text-ellipsis mr-4">
Â  Â  Â  Â  Â  Â  ${item.name}, Chennai 
Â  Â  Â  Â  Â  </h3>
Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  <!-- Category pill, centered in remaining space -->
Â  Â  Â  Â  Â  <span class="text-xs font-semibold px-3 py-1 rounded-full bg-teal-100 text-teal-700 min-w-[70px] text-center">${item.category}</span>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  
Â  Â  Â  Â  <!-- Remove button with adjusted padding for better vertical centering -->
Â  Â  Â  Â  <button onclick="removeFromCart('${item.name.replace(/'/g, "\\'")}')" class="bg-red-80 text-red-700 px-3 py-1.3 rounded-lg text-sm font-semibold hover:bg-red-130 ml-6 transition-colors shadow-sm">
Â  Â  Â  Â  Â  Remove
Â  Â  Â  Â  </button>
Â  Â  Â  `;
Â  Â  Â  cartItemsContainer.appendChild(itemElement);
Â  Â  });
Â  }

Â  function removeFromCart(nameToRemove) {
Â  Â  let cart = JSON.parse(localStorage.getItem('cart') || '[]');
Â  Â  cart = cart.filter(item => item.name !== nameToRemove);
Â  Â  localStorage.setItem('cart', JSON.stringify(cart));
Â  Â  renderCart(); // Re-render the cart after removal
Â  Â  alert(nameToRemove + " removed from itinerary.");
Â  }

Â  function clearCart() {
Â  Â  if (confirm("Are you sure you want to clear your entire itinerary?")) {
Â  Â  Â  localStorage.removeItem('cart');
Â  Â  Â  renderCart();
Â  Â  Â  alert("Itinerary cleared!");
Â  Â  }
Â  }

Â  window.onload = renderCart;
</script>
</body>
</html>
